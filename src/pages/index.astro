---
import Hero from '../components/Hero.astro';
import RecentPosts from '../components/RecentPosts.astro';
import BaseLayout from '../layouts/BaseLayout.astro';

const posts = await Astro.glob('./posts/*.md');
const lastThreePosts = posts
  .sort(
    (a, b) => new Date(b.frontmatter.date).valueOf() - new Date(a.frontmatter.date).valueOf()
  )
  .slice(0, 3);
---

<BaseLayout title="Home">
  <Hero />
  <RecentPosts posts={lastThreePosts} />
</BaseLayout>
